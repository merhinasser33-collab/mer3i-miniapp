<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mer3i market</title>
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto; background:#f3f5f9;}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px;}
    .card{width:min(520px,100%);background:#fff;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.08);padding:22px;text-align:center;}
    h1{margin:0 0 8px;font-size:40px}
    .sub{color:#198a32;font-weight:700;margin-bottom:16px}
    .btn{border:0;border-radius:14px;padding:16px 18px;font-size:20px;cursor:pointer;width:100%;margin:10px 0}
    .primary{background:#2f7df6;color:#fff;}
    .soft{background:#e9eef6;color:#111;}
    .black{background:#111;color:#fff;}
    .small{font-size:14px;color:#666;margin-top:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>âœ… Mer3i Market ğŸ›’</h1>
      <div class="sub">ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­</div>

      <button class="btn black" id="btnDashboard">ğŸ› ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
      <button class="btn soft" id="btnInquiry">ğŸ’¬ Ø§Ø³ØªÙØ³Ø§Ø±</button>
      <button class="btn primary" id="btnLogout">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>

      <div class="small" id="status"></div>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDdChxB8Axden4r5TChcL_wuwuGUZfL0yk",
      authDomain: "mer3imarket.firebaseapp.com",
      projectId: "mer3imarket",
      storageBucket: "mer3imarket.firebasestorage.app",
      messagingSenderId: "318791325244",
      appId: "1:318791325244:web:2a35c7fe774ab1772f5539",
      measurementId: "G-4ZR3G6DEN4"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const status = document.getElementById("status");

    // âœ… Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø©: Ø¥Ø°Ø§ Ù…Ø´ Ø¯Ø§Ø®Ù„ ÙŠØ±Ø¬Ø¹ Ù„Ù€ login
    onAuthStateChanged(auth, (user)=>{
      if(!user){
        window.location.href = "login.html";
      }else{
        status.textContent = "Ø¬Ø§Ù‡Ø² âœ…";
      }
    });

    document.getElementById("btnDashboard").onclick = ()=>{
      window.location.href = "dashboard.html";
    };

    document.getElementById("btnInquiry").onclick = ()=>{
      window.location.href = "inquiry.html";
    };

    document.getElementById("btnLogout").onclick = async ()=>{
      await signOut(auth);
      window.location.href = "login.html";
    };
  </script>
</body>
</html>
